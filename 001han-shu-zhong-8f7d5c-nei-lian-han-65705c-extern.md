#### 函数重载\ 内联函数\ extern

**1、在java 的世界里, 先有类, 再有方法(函数),且方法必须写在类里面, 如下图:
![](/assets/helloJava.png)
java中可以有多个mian函数,而且也是把mian 函数作为程序的入口, 只是程序运行前可以指定程序把哪个main函数作为程序的入口.**


<br>
**2、在C++ 可以不需要类, mian 函数即是程序的入口. C++ (java可以有多个main函数) 只能有一个main函数. 而且函数可以写在 类外面.**

![](/assets/Snip20190110_2.png)

<br>
**3、C++ 中的输出**

```
void testOutput(){
    cout << "C++ 中输出内容使用 cout ,  << 和输出内容成对出现即可" << endl;
    // 一个 << + 输出内容, 就代表一个输出
}
```

<br>
**4、C++ 中的输入**
```
void testInput{
    int a;
    // 在C++中输入, 不需要在变量前面加 & 符号
    cin >> a ;
    cout << "a = " << a << endl;
}
```


#### 一、 C++函数重载 (overload)

1、首先在C语言中是不允许函数重载的, 在C++ 中是允许函数重载的.
C++ 中的函数重载指的是: **函数名相同, 参数类型不同/ 参数个数不同/ 参数顺序不同, 都构成函数重载**

**2、C++ 中仅函数返回值类型不同,是不构成函数重载的**. 有二义性, 编译器在调用函数时,不晓得调用哪个.

![](/assets/Snip20190109_5.png)

**3、调用函数时, 函数参数的隐士转换可能导致 函数重载的二义性. 系统编译报错**
![](/assets/Snip20190110_9.png)


**4、C++ 函数重载的本质**
C++ 采用的name mangling 或者叫 name decoration的技术(即: C++ 编译器默认会对符号名(变量名/ 函数名等) 进行改编/ 修饰)
比如:
```
void display(int a){
    cout << a << endl;
}
这个方法,的名字经过编译器可能就变化为了: display_int. 不同编译器可能有不同的做法
```




<br>
#### 二、 extern "C" , 指明那些C++代码需要采用C语言方式编译, C语言中不存在函数重载(没有name manging 技术)

**1、被 'extern "C" 修饰的代码会按照C语言的方式去编译**
**2、'extern "C" 一共有3使用使用方式**

**方式一:**
单个方法需要采用C语言方式编译

![](/assets/Snip20190110_1.png)

**方式二: **
有一部分的C++代码需要采用C语言方式编译, 那么使用extern "C" 花括号{} 括起来

![](/assets/Snip20190110_3.png)

**方式三: **
如果声明和实现是分开的, 那么只需在声明部分 extern "C" 指明采用C语言方式编译即可 

![](/assets/Snip20190110_4.png)

**方式四: C/ C++混编**

![](/assets/Snip20190110_7.png)


**☆☆☆☆☆**
**3、什么情况下需要使用 extern "C" ?**
   
1> 当我们在 C++ 中编写一些函数,并且希望这些函数以后可以在C语言环境中使用时, 需要使用 **extern "C"** 指明.
2> 当我们已经在C 语言文件(环境) 中编写好函数, 现在希望把已经编写好的函数引用在 C++ 语言(环境中时) 需要将C语言的头文件使用 extern "C" 花括号{} 包起来.
3> 凡是 涉及到C / C++ 混编的时候都要使用  **extern "C"

**☆☆☆☆☆**
**4、为什要使用 extern "C" ?**
1> 因为在C++ 中允许函数的重载(C++函数重载的本质是使用 name mangling技术(函数名装饰)). 
比如: 在C++ 中有个 `int sum(int a, int b)` 函数, C++ 编译后真实的名称可能是 `sum_int_int`,而在C语言中因为没有函数重载的概念,在C语言环境下编译后函数名为 `_sum`
如果我们编写一个C语言函数明文: `int sum(int a, int b)` ,直接在C++中使用,那么因为C++中有函数重载,C++环境会去找名为 sum_int_int的函数,肯定找不到,系统报错. 因此在导入时 我们使用extern "C" 说明, sum 这个函数是C语言中的,不要使用函数重载(name mangling) 技术来调用


**☆☆☆☆☆**
**5、编写通用的C语言文件,完全兼容C++ ?**
![](/assets/Snip20190110_8.png)







<br>
#### 三、 默认参数

1、C++ 允许函数设置默认参数, 在调用时可以根据情况省略实参.规则如下:
![](/assets/Snip20190110_10.png)

2、默认参数值 可以是常亮/ 全局符号(全局变量/ 函数名(函数名是常亮))
